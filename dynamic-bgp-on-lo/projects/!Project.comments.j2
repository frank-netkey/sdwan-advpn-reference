{#                            Project Template                                #}
{# -------------------------------------------------------------------------- #}
{# This file describes the project: its Regions, Hubs and Device Profiles     #}
{# Normally, this is the only file that needs to be edited between            #}
{# different projects                                                         #}
{# -------------------------------------------------------------------------- #}
{# Design flavor: "BGP on Loopback"                                           #}
{# Please contact your Fortinet representatives for more details              #}

{# This is a quick reference listing supported parameters.                    #}
{# See "Project_Template_Reference.md" for more information.                  #}

{#
  Per-device variables used:
  - Required:
    - hostname
    - loopback
    - profile
    - region
    - (+ other variables used explicitly in this file, e.g. in Regions, Profiles or Hubs)
#}

{# Optional Settings (showing default values) #}
{#
{% set create_hub2hub_zone = true %}
{% set hub2hub_zone = 'hub2hub_overlay' %}
{% set create_lan_zone = true %}
{% set lan_zone = 'lan_zone' %}
{% set create_vrf_leak_zone = true %}
{% set pevrf_leak_zone = 'pevrf_leak_zone' %}
{% set vrf_leak_zone = 'vrfs_leak_zone' %}
{% set vrf_leak_summary = '10.200.255.0/24' %}
{% set pe_vrf = 1 %}

{% set create_lan_dhcp_server = true %}
{% set dhcp_server_startip = 4 %}
{% set dhcp_server_endip = -5 %}

{% set cert_auth = true %}
{% set hub_cert_template = 'Hub' %}
{% set edge_cert_template = 'Edge' %}
{% set psk = 'S3cr3t!' %}
{% set hub_crl_check = false %}
{% set crl_scep_url = '' %}
{% set crl_http_url = '' %}


{% set overlay_stickiness = false %}
{% set intrareg_hub2hub = false %}
{% set intrareg_advpn = true %}
{% set multireg = true %}
{% set multireg_advpn = true %}
{% set hub_hc_server = '10.200.99.1' %}

{% set advpn2 = true %}
{% set dynamic_bgp = false %}

{% set force_cleanup = false %}
{% set strict_peering = true %}
{% set strict_firewall = true %}
{% set strict_pbr = true %}

{% set short_community_as = '65000' %}
{% set regex_as = '' %}
{% set hub_strict_syn = false %}
{% set lan_summary =  '10.0.0.0/8' %}
#}

{#  Mandatory Global Definitions #}
{#
{% set lo_summary =  %}
#}

{# Regions #}
{#
{% set regions = {
    'RegionName': {
      'as': ,
      'lan_summary': ,
      'lo_summary': ,
      'vrfs': [ 
        {
          'id': ,
          'lan_summary': ,
          'lo_summary':
        },
        ...
      ],
      'hubs': [  ]
    },
    ...
  }
%}
#}

{# Device Profiles #}
{#
{% set profiles = {
    'ProfileName': {
      'ha': false,
      'options': {
          'advpn2': ,
          'dynamic_bgp': ,
          'force_cleanup': ,
          'strict_peering': ,
          'strict_firewall': ,
          'strict_pbr': ,
          'leak_npu_link': ,
          'sdwan_mode':
      },
      'bridges': [
        {
          'name': ,
          'vlanid':
        },
        ...
      ],
      'interfaces': [
        {
          'name': ,
          'role': ,
          'ip': ,
          'vrf': ,
          'src_ip': ,
          'vlanid': ,
          'parent': ,
          'access': ,
          'ol_type': ,
          'outbandwidth': ,
          'inbandwidth': ,
          'shaping_profile': ,
          'dhcp_server': ,
          'dhcp_relay': ,
          'dhcp_relay_servers': ,
          'allow_dia': ,
          'advertise' ,
          'fex',
          'dia': ,
          'transport_group': 
        },
        ...
      ]
    },
    ...
  }
%}
#}

{# Hubs #}
{#
{% set hubs = {
    'HubName': {
      'lo_bgp': ,
      'peering': {
        'PeeringName': {
          'dynamic_bgp': ,
          'lo_summary': 
        },
        ...
      },
      'overlays': {
        'OverlayName': {
          'wan_ip': ,
          'network_id': ,
          'hub2hub': 
        },
        ...
      }
    },
    ...
  }
%}
#}